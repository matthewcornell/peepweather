{% extends "base.html" %}

{% block title %}Welcome to PeepWeather!{% endblock %}

{% block content %}
    
    <script>
        jQuery(window).ready(function () {
            navigator.geolocation.getCurrentPosition(handle_geolocation_query);
        });

        function handle_geolocation_query(position) {
            var latLon = position.coords.latitude + ',' + position.coords.longitude;
            jQuery("#latlon_input_id").val(latLon);
            jQuery("#latlon_form_id").attr("class","show");
        }
    </script>
    

    <!-- upper half: action, screen shot, recent -->
    <div class="container">
        <div class="row">
            <!-- left column: search -->
            <div class="col-md-8">
                <h1>In one glance, see how the flying looks for the upcoming week.</h1>

                <!-- enabled if geolocation permission given -->
                <div id="latlon_form_id" class="hidden">
                    <form class="form-inline" method="POST" action="{{ url_for('do_zip_submit') }}">
                        <label class="h3 text-muted" for="latlon_input_id">Use your location:&nbsp;</label>
                        <input class="form-control hidden" id="latlon_input_id" type="text" name="zip_or_latlon_form_val">
                        <button type="submit" class="btn btn-primary">
                            <i class="fa fa-crosshairs fa-lg"></i>
                        </button>

                    </form>
                    <p class="h4 text-muted"><em>&mdash; OR &mdash;</em></p>

                </div>

                <h3 class="text-muted">Enter a location:</h3>

                <form class="form-inline" method="POST" action="{{ url_for('do_zip_submit') }}">
                    <input class="form-control" type="text" name="zip_or_latlon_form_val" placeholder="zip or lat,lon">
                    <button type="submit" class="btn btn-primary">Go!</button>
                </form>
                <p class="h4 text-muted"><em>&mdash; OR &mdash;</em></p>


                <h3 class="text-muted">Search for a location:</h3>

                <form class="form-inline" method="POST" action="{{ url_for('do_zip_search_submit') }}">
                    <input class="form-control" type="text" name="query_form_val" placeholder="city or town (not state)">
                    <button class="btn btn-primary" type="submit">
                        <span class="glyphicon glyphicon-search"></span>
                    </button>

                </form>
            </div>

            <!-- right column: screen shot, recent searches -->
            <div class="col-md-4">
                <div class="row">
                    <div class="col-md-12">
                        <img src="{{ url_for('static', filename='screen-shot.png') }}"/>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <!-- lower half: info -->
    <div class="container bg-success">
        <div class="row">
            <div class="col-md-4">
                <h2>What is PeepWeather?</h2>

                <p>PeepWeather is a web application that shows a color-coded <code>traffic light</code> view of the
                    weather for the next seven days, hour-by-hour. In one glance you can quickly see what the flying
                    looks like for the week and plan accordingly.</p>

                <p><a class="btn btn-default" href="{{ url_for('showHowItWorks') }}" role="button">How it
                    works &raquo;</a></p>
            </div>
            <div class="col-md-4">
                <h2>Who is it for?</h2>

                <p>From park fliers to 500 class helis to giant scale, all RC pilots need to know the weather
                    to decide when is good for flying. The problem is we're busy, but most forecast sites take too
                    much time to figure out what we really care about: a <code>go/no go</code> for each hour.</p>
            </div>
            <div class="col-md-4">
                <h2>Why use it?</h2>

                <p>Unlike other weather sites that either provide too little hourly information or way too much,
                    PeepWeather makes it easy for you to tell, in one look, how the week is stacking up.
                    <strong class="text-danger">Lots of red?</strong> Relax and hit the sim.
                    <strong class="text-success">Tons of green?</strong> Call a buddy and meet at the field!</p>
            </div>
        </div>

    </div>

{% endblock %}