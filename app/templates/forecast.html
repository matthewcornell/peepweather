{% extends "base.html" %}
{% block title %}Forecast for {{ forecast.location() }}{% endblock %}
{% block navLocation %} > {{ forecast.location() }}{% endblock %}

{% block content %}

    <link rel='stylesheet' href='{{ url_for('static', filename='weather-icons-1.2.1/css/weather-icons.css') }}'>
    <link rel='stylesheet' href='{{ url_for('static', filename='hour-colors.css') }}'>
    
    <div class="container">
        <!-- row 1/2: table on left, keys on right -->
        <div class="row">
            <h1>Forecast for {{ forecast.location() }} </h1>
            
            <!-- todo integrate with bootstrap -->
            <p>
                Time: <span id="time-id"></span><br>
                Links: <a href="https://www.google.com/maps/place/{{ forecast.latLon[0] }},{{ forecast.latLon[1] }}">Google
                Maps</a>,
                <a href="http://forecast.weather.gov/MapClick.php?lat={{ forecast.latLon[0] }}&lon={{ forecast.latLon[1] }}">weather.gov</a>
            </p>

            <!-- col 1/2: colors table! -->
            <div class="col-md-8">
                {% include "forecast-table.html" %}
            </div>

            <!-- col 2/2: keys -->
            <div class="col-md-4">
                {% include "color-key.html" %}
                {% include "icon-key.html" %}
            </div>
        </div>

        <!-- row 2/2: settings link -->
        <div class="row">
            <p>Settings:
                <a class="btn btn-default" href="{{ url_for('editSettings') }}" role="button">Settings&nbsp;&nbsp;<span
                        class="glyphicon glyphicon-cog"></span></a>
            </p>
        </div>
    </div>

    
    <!-- todo integrate with bootstrap -->
    <h2>Debuging tools</h2>

    {% set zipOrLatLon = forecast.zipcode or forecast.latLon[0] + ',' + forecast.latLon[1] %}

    For debugging purposes you can download the raw weather data for this forecast
    <a href="{{ forecast.weatherDotGovUrl() }}">here</a>. To show the hours in a list format, click
    <a href="{{ url_for('showForecast', zipOrLatLon=zipOrLatLon, list=true) }}">here</a>.


    <!-- todo on document ready -->
    <script type="text/javascript">
        document.getElementById('time-id').innerHTML = new Date();
    </script>


{% endblock %}
